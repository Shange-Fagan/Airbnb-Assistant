<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Airbnb Assistant</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">

  <!-- Stylesheet -->
  <style>
    /* Global Styles */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      overflow: hidden;
    }

    a, button, input, select, iframe {
      pointer-events: auto;
    }

    /* Info and Credits */
    #info, #credits {
      position: absolute;
      width: 100%;
      text-align: center;
      color: rgba(255, 255, 255, 0.5);
      z-index: 1;
    }

    #info {
      bottom: 3.75vh;
      font-size: 0.75rem;
    }

    #credits {
      bottom: 2vh;
      font-size: 0.75rem;
    }

    #credits a {
      color: #1e90ff;
      text-decoration: none;
    }

    #credits a:hover {
      text-decoration: underline;
    }

    /* Tickers */
    #dayTicker, #nightTicker, #mobileTicker {
      position: fixed;
      top: 0;
      width: 100%;
      text-align: center;
      z-index: 9999;
    }

    #dayTicker, #nightTicker {
      color: teal;
    }

    #mobileTicker {
      display: none;
    }

    @media (max-width: 768px) {
      #dayTicker, #nightTicker {
        display: none;
      }

      #mobileTicker {
        display: block;
        color: teal;
      }
    }

    /* Region Popup */
    #regionPopup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: rgba(255, 255, 255, 0.15);
      padding: 45px 55px;
      border-radius: 15px;
      z-index: 9999;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(10px);
      text-align: center;
      max-width: 400px;
      width: 100%;
    }

    #regionPopup h1, #regionPopup h2, #regionPopup p {
      color: rgba(255, 255, 255, 0.75);
      margin-bottom: 50px;
    }

    #regionPopup select {
      font-size: 16px;
      padding: 10px;
      border-radius: 10px;
      margin-bottom: 20px;
      width: 82.5%;
      margin-left: 10px;
      margin-right: 10px;
      background-color: rgba(255, 255, 255, 0.15);
      appearance: none;
    }

    #regionPopup button {
      background-color: #ff385c;
      color: white;
      padding: 12px 25px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #regionPopup button:hover {
      background-color: #e03a56;
    }

    /* Content Layout */
    #content {
      display: none;
      flex-direction: row;
    }

    #globeContainer {
      width: 50%;
    }

    #iframeContainer {
      width: 50%;
    }

    /* Confirmation Message Styling */
    #confirmationMessage {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: rgba(255, 255, 255, 0.75);
      background-color: rgba(255, 255, 255, 0.15);
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
      z-index: 9999;
      text-align: center;
      max-width: 400px;
      width: 100%;
    }

    #confirmationMessage h2 {
      color: rgba(255, 255, 255, 0.75);
      margin-bottom: 10px;
    }

    /* Footer Styles */
    footer {
      position: fixed;
      bottom: 0;
      width: 100%;
      background-color: transparent;
      color: rgba(255, 255, 255, 0.5);
      text-align: center;
      padding: 5px 0;
      font-size: 0.6rem;
      z-index: 1;
    }

    footer a {
      color: #1e90ff;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    @media (max-width: 768px) {
      footer {
        font-size: 0.4rem;
        padding: 2.5px 0;
      }
    }
  </style>

  <meta name="google-adsense-account" content="ca-pub-5689710336620898">
  <script async src="https://fundingchoicesmessages.google.com/i/pub-5689710336620898?ers=1"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5689710336620898" crossorigin="anonymous"></script>
</head>
<body>
  <!-- Info Section -->
  <div id="info">Click the markers to show the label</div>
  <div id="credits">
    Made by <a href="https://github.com/Shange-Fagan" target="_blank" rel="noopener">Shange Fagan</a>
  </div>

  <!-- Footer Section -->
  <footer>
    Â© 2024 Airbnb Assistant. All rights reserved.
    <a href="https://www.linkedin.com/in/shange-fagan-bba3a3239/" target="_blank">LinkedIn</a> |
    <a href="https://instagram.com/shangefagan" target="_blank">Instagram</a>
  </footer>

  <div id="header">
    <input type="text" id="where" placeholder="Search destinations">
    <input type="date" id="Select dates">
    <input type="number" id="guests" placeholder="Add guests">
    <button id="searchBtn">Search</button>
  </div>

  <div id="regionPopup">
    <h2>Welcome to Airbnb Assistant</h2>
    <p>Select your region</p>
    <select id="regionSelect">
      <option value="africa">Africa</option>
      <option value="europe">Europe</option>
      <option value="america">America</option>
      <option value="south america">South America</option>
      <option value="carribbean">Carribbean</option>
      <option value="asia">Asia</option>
      <option value="world">World</option>
    </select>
    <button id="submitRegion">Submit</button>
  </div>

  <div id="confirmationMessage" style="display: none;">
    <h2>Thank you</h2>
    <p>
      Please enter the details of your travel above, and we'll do our best to find the best Airbnbs tailored to your needs, or feel free to browse our latest offers in your selected region.
    </p>
  </div>

  <div id="content">
    <div id="globeContainer"></div>
    <div id="iframeContainer">
      <iframe id="resultsIframe"></iframe>
    </div>
  </div>

  <!-- Main JavaScript -->
  <script type="module">
    import * as THREE from "https://unpkg.com/three@0.136.0/build/three.module.js";
    import { OrbitControls } from "https://unpkg.com/three@0.136.0/examples/jsm/controls/OrbitControls";
    import { CSS2DRenderer } from "https://unpkg.com/three@0.136.0/examples/jsm/renderers/CSS2DRenderer.js";
    import { EffectComposer } from "https://unpkg.com/three@0.136.0/examples/jsm/postprocessing/EffectComposer.js";
    import { RenderPass } from "https://unpkg.com/three@0.136.0/examples/jsm/postprocessing/RenderPass.js";
    import { UnrealBloomPass } from "https://unpkg.com/three@0.136.0/examples/jsm/postprocessing/UnrealBloomPass.js";
    import { RGBELoader } from 'https://unpkg.com/three@0.136.0/examples/jsm/loaders/RGBELoader.js';

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 2000);
    camera.position.set(20, 0.5, 15).setLength(window.innerWidth <= 768 ? 20 : 16); // Optimize camera for mobile
    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    document.body.appendChild(renderer.domElement);

    const controls = new OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.25;
    controls.enableZoom = true;
    controls.minDistance = 15;
    controls.maxDistance = 25;
    controls.autoRotate = true;
    controls.autoRotateSpeed = 0.5;

    // More JavaScript code for scene setup, animations, and event listeners...
    // Add lazy-loading for textures, asynchronous loading for shaders

	  

    function animate() {
      requestAnimationFrame(animate);
      controls.update();
      renderer.render(scene, camera);
    }

    animate(); // Start animation loop

    // Event listeners and mobile optimizations...
  </script>
</body>
</html>
